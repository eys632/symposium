# 🔑 VS Code 비밀번호 없이 SSH 서버 접속하기 (총정리)

이 과정은 크게 **로컬 PC**에서 할 일과 **서버**에서 할 일로 나뉩니다.

---

## 1단계: SSH 키 생성 (💻 로컬 PC에서)

내 컴퓨터를 식별할 수 있는 고유한 열쇠(개인키)와 자물쇠(공개키)를 만듭니다.

1.  **터미널 열기**
    * Windows: `PowerShell` 또는 `Git Bash`
    * macOS/Linux: `터미널`

2.  **키 생성 명령어 입력**
    아래 명령어를 터미널에 입력하고 엔터를 누릅니다. 이메일은 아무거나 써도 괜찮습니다.
    ```bash
    ssh-keygen -t rsa -b 4096 -C "a202190000@a100.제이제이.ac.kr"
    ```

3.  **질문 모두 엔터 누르기**
    * `Enter file in which to save the key...`: 그냥 **엔터**
    * `Enter passphrase...`: 그냥 **엔터** (비밀번호 없이 접속이 목적)
    * `Enter same passphrase again...`: 그냥 **엔터**

---

## 2단계: 공개키 서버에 등록 (🔑 서버에서)

만들어진 자물쇠(공개키)를 접속하려는 서버에 가져다 놓습니다.

1.  **공개키 내용 복사 (💻 로컬 PC에서)**  
    터미널 명령어 버전   
    아래 명령어로 터미널에 출력된 키 내용을 모두 복사합니다. (`ssh-rsa` 부터 끝까지)  
    ```bash
    cat ~/.ssh/id_rsa.pub
    ```

    터미널창에서 하는게 익숙하지 않다면 (키보드 + 마우스_ver)   
    c드라이브-유저폴더-.ssh폴더-ssh-rsa.pub 파일을 vs코드로 열어서 텍스트를 전부 ctrl + c 로 복사합니다.   

2.  **서버에 비밀번호로 접속**
    우선 기존 방식대로 VS Code나 터미널을 이용해 서버에 접속합니다.

3.  **복사한 공개키 붙여넣기 (🔑 서버에서)**
    터미널 명령어 버전.   
    서버 터미널에 아래 명령어를 실행합니다. **따옴표 안에 1번에서 복사한 내용을 붙여넣으세요.**
    ```bash
    echo "여기에-복사한-공개키-내용-붙여넣기" >> ~/.ssh/authorized_keys
    ```

    터미널창에서 하는게 익숙하지 않다면 (키보드 + 마우스_ver)   
    vs코드 폴더열기-본인폴더경로-.ssh-authorized_keys(없으면 본인이 생성해도 됩니다.)-복사한 텍스트를 붙여넣은 후 저장하세요(ctrl + s).   
---

## 3단계: 접속 정보 설정 (💻 로컬 PC에서)

내 컴퓨터에게 'a100'이라는 별명은 어떤 주소와 정보를 가리키는지 알려줍니다.  

터미널창에서 하는게 익숙하지 않다면   
c드라이브-유저폴더-.ssh폴더-config 파일을 vs코드로 연 후 2번부터 따라하세요.   

1.  **설정 파일 열기**
    **로컬 PC 터미널**에서 아래 명령어를 실행합니다.
    ```bash
    nano ~/.ssh/config
    ```

2.  **접속 정보 입력**
    파일에 아래 내용을 정확하게 입력하거나 수정합니다.
    ```
    Host a100
        HostName 본인의 서버주소 (ex. a100.snu.ac.kr)
        User a202190000
        Port 20022
        IdentityFile ~/.ssh/id_rsa
    ```
    
    터미널창에서 하는게 익숙하지 않다면   
    ```
    Host a100
        HostName 본인의 서버주소 (ex. a100.snu.ac.kr)
        User a202190000
        Port 20022
        IdentityFile ~/.ssh/id_rsa
    ```
    입력하고 ctrl + s 로 저장하고 닫기, 4단계로 가세요.   
      
4.  **저장하고 닫기**
    `Ctrl + X` → `Y` → `Enter`

---

## 4단계: 서버 권한 설정 (🔑 서버에서)

**가장 중요한 단계입니다.** 서버가 키를 이용한 접속을 허용하도록 보안 권한을 설정합니다.

1.  **비밀번호를 입력해서 서버에 다시 접속**합니다.
2.  **서버 터미널**에 아래 회색 박스 안의 명령어를 **전체 복사해서 한 번에 붙여넣고 엔터**를 치세요.

    ```bash
    USER_HOME="/home/a202192020"
    mkdir -p "${USER_HOME}/.ssh"
    chmod go-w "${USER_HOME}"
    chmod 700 "${USER_HOME}/.ssh"
    chmod 600 "${USER_HOME}/.ssh/authorized_keys"
    echo "✅ 서버 권한 설정이 완료되었습니다."
    ```

---

## 5단계: 접속하기 (💻 VS Code에서)

모든 설정이 끝났습니다. 이제 비밀번호 없이 접속합니다.

1.  VS Code 왼쪽의 **원격 탐색기** 아이콘을 클릭합니다.
2.  SSH TARGETS 목록 상단의 **새로고침** 아이콘을 클릭합니다.
3.  목록에 있는 **`a100`** 옆의 **새 창에서 연결** 아이콘을 클릭하면 끝입니다.
